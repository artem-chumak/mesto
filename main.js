(()=>{"use strict";var e={userName:document.querySelector(".profile__name"),userAbout:document.querySelector(".profile__occupation"),userAvatar:document.querySelector(".profile__avatar"),userId:null},t=document.querySelector(".profile__avatar"),n=document.querySelector(".profile__edit-button"),r=document.querySelector(".profile__add-button"),o=document.querySelector(".elements__list"),i=document.querySelector(".element-template").content,u=document.querySelector("#edit-avatar"),a=u.querySelector("form"),s=document.querySelector("#edit-profile"),c=s.querySelector("form"),l=s.querySelector('input[name="name"]'),f=s.querySelector('input[name="about"]'),h=document.querySelector("#add-place"),p=h.querySelector("form"),d=document.querySelector(".popup_type_image"),_=document.querySelector("#delete-conformation"),y=(document.querySelectorAll('button[type="submit"]'),{inputSelector:".popup__input",submitButtonSelector:".popup__save-button",inactiveButtonClass:"popup__save-button_disabled",inputErrorClass:"popup__input_error",errorClass:"popup__input-error_active"});function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var m=function(){function e(t){var n=t.data,r=t.cardSelector,o=t.handleCardClick,i=t.userId,u=t.handleLikeClick,a=t.handleDeleteButton;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._data=n,this._place=n.name,this._link=n.link,this._ownerId=n.owner._id,this._cardId=n._id,this._likes=n.likes,this._cardSelector=r,this._handleCardClick=o,this._userId=i,this._handleLikeClick=u,this._handleDeleteButton=a}var t,n;return t=e,(n=[{key:"getCardId",value:function(){return this._cardId}},{key:"_getTemplate",value:function(){return this._cardSelector.querySelector(".element").cloneNode(!0)}},{key:"_hideDeleteButton",value:function(){this._ownerId!==this._userId&&(this._deleteButton.style.display="none")}},{key:"isLiked",value:function(){return this._isLiked}},{key:"setLike",value:function(e){var t=this;this._isLiked=e.likes.filter((function(e){return e._id==t._userId})).length>0,this._likeCounter.textContent=e.likes.length,this._isLiked?this._likeButton.classList.add("element__like-button_active"):this._likeButton.classList.remove("element__like-button_active")}},{key:"generateCard",value:function(){return this._element=this._getTemplate(),this._titleElement=this._element.querySelector(".element__title"),this._imegeElement=this._element.querySelector(".element__image"),this._likeButton=this._element.querySelector(".element__like-button"),this._likeCounter=this._element.querySelector(".element__like-counter"),this._deleteButton=this._element.querySelector(".element__delete-button"),this._setEventListeners(),this._imegeElement.src=this._link,this._imegeElement.alt=this._place,this._titleElement.textContent=this._place,this._hideDeleteButton(),this.setLike(this._data),this._element}},{key:"_setEventListeners",value:function(){var e=this;this._deleteButton.addEventListener("click",(function(){e._handleDeleteButton()})),this._likeButton.addEventListener("click",(function(){e._handleLikeClick()})),this._imegeElement.addEventListener("click",(function(){e._handleCardClick(e._place,e._link)}))}},{key:"handleDeleteCard",value:function(){this._element.remove(),this._element=null}}])&&v(t.prototype,n),e}();function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var k=function(){function e(t){var n=t.render,r=t.containerSelector;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._containerSelector=r,this._render=n}var t,n;return t=e,(n=[{key:"renderItems",value:function(e){var t=this;e.forEach((function(e){t._render(e)}))}},{key:"addItem",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t?this._containerSelector.append(e):this._containerSelector.prepend(e)}}])&&b(t.prototype,n),e}();function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var S=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._popup=t,this._handleEscClose=this._handleEscClose.bind(this)}var t,n;return t=e,(n=[{key:"open",value:function(){this._popup.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){this._popup.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleEscClose)}},{key:"_handleEscClose",value:function(e){"Escape"===e.key&&this.close()}},{key:"setEventListeners",value:function(){var e=this;this._popup.querySelector(".popup__exit-button").addEventListener("click",(function(t){return e.close()})),this._popup.addEventListener("click",(function(t){t.target===t.currentTarget&&e.close()}))}}])&&g(t.prototype,n),e}();function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function C(e,t,n){return(C="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=I(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function L(e,t){return(L=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(e,t){return!t||"object"!==E(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function I(e){return(I=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var B=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&L(e,t)}(u,e);var t,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=I(r);if(o){var n=I(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return O(this,e)});function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,e))._popupImage=t._popup.querySelector(".popup__image"),t._popupCaption=t._popup.querySelector(".popup__caption"),t}return t=u,(n=[{key:"open",value:function(e,t){this._popupCaption.textContent=e,this._popupImage.src=t,this._popupImage.alt=e,C(I(u.prototype),"open",this).call(this)}}])&&w(t.prototype,n),u}(S);function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function P(e,t,n){return(P="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=x(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function R(e,t){return(R=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function T(e,t){return!t||"object"!==j(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var U=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&R(e,t)}(u,e);var t,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=x(r);if(o){var n=x(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return T(this,e)});function u(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(n=i.call(this,e))._handleFormSubmit=t,n._form=n._popup.querySelector(".popup__form"),n._confirmButton=n._form.querySelector(".popup__save-button"),n._inputs=n._form.querySelectorAll(".popup__input"),n}return t=u,(n=[{key:"_getInputValues",value:function(){var e=this;return this._inputList=Array.from(this._inputs),this._formValues={},this._inputList.forEach((function(t){return e._formValues[t.name]=t.value})),this._formValues}},{key:"setEventListeners",value:function(){var e=this;this._form.addEventListener("submit",(function(t){t.preventDefault(),e._handleFormSubmit(e._getInputValues())})),P(x(u.prototype),"setEventListeners",this).call(this)}},{key:"close",value:function(){P(x(u.prototype),"close",this).call(this),this._form.reset()}},{key:"setButtonText",value:function(e){this._confirmButton.textContent=e?"Сохранение...":"Сохранить"}}])&&q(t.prototype,n),u}(S);function A(e){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function D(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function N(e,t,n){return(N="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=H(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function V(e,t){return(V=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function F(e,t){return!t||"object"!==A(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function H(e){return(H=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var J=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&V(e,t)}(u,e);var t,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=H(r);if(o){var n=H(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return F(this,e)});function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,e))._form=t._popup.querySelector(".popup__form"),t._confirmButton=t._form.querySelector(".popup__save-button"),t}return t=u,(n=[{key:"setNewHandler",value:function(e){this._handleFormSubmit=e}},{key:"setEventListeners",value:function(){var e=this;N(H(u.prototype),"setEventListeners",this).call(this),this._form.addEventListener("submit",(function(t){t.preventDefault(),e._handleFormSubmit()}))}},{key:"setButtonText",value:function(e){this._confirmButton.textContent=e?"Удаление...":"Да"}}])&&D(t.prototype,n),u}(S);function M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var z=function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),M(this,"_hasInvalidInput",(function(){return r._inputList.some((function(e){return!e.validity.valid}))})),M(this,"toggleButtonState",(function(){r._hasInvalidInput()?(r._buttonElement.classList.add(r._inactiveButtonClass),r._buttonElement.setAttribute("disabled","disabled")):(r._buttonElement.classList.remove(r._inactiveButtonClass),r._buttonElement.removeAttribute("disabled"))})),M(this,"_showInputError",(function(e,t){var n=r._form.querySelector("#".concat(e.id,"-error"));e.classList.add(r._inputErrorClass),n.textContent=t,n.classList.add(r._errorClass)})),M(this,"_hideInputError",(function(e){var t=r._form.querySelector("#".concat(e.id,"-error"));e.classList.remove(r._inputErrorClass),t.classList.remove(r._errorClass),t.textContent=""})),M(this,"_isValid",(function(e){!e.validity.valid||e.validity.typeMismatch?r._showInputError(e,e.validationMessage):r._hideInputError(e)})),M(this,"_setEventListeners",(function(){r._inputList.forEach((function(e){e.addEventListener("input",(function(){r._isValid(e),r.toggleButtonState()}))}))})),M(this,"hideError",(function(){r._inputList.forEach((function(e){r._hideInputError(e)}))})),M(this,"enableValidation",(function(){r._setEventListeners(),r._form.addEventListener("submit",(function(e){e.preventDefault()}))})),this._inputSelector=t.inputSelector,this._submitButtonSelector=t.submitButtonSelector,this._inactiveButtonClass=t.inactiveButtonClass,this._inputErrorClass=t.inputErrorClass,this._errorClass=t.errorClass,this._form=n,this._inputList=Array.from(this._form.querySelectorAll(this._inputSelector)),this._buttonElement=this._form.querySelector(this._submitButtonSelector)};function $(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var G=function(){function e(t){var n=t.userName,r=t.userAbout,o=t.userAvatar,i=t.userId;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._userName=n,this._userOccupation=r,this._avatar=o,this._userId=i}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return{name:this._userName.textContent,about:this._userOccupation.textContent,avatar:this._avatar,userId:this._userId}}},{key:"setUserInfo",value:function(e){this._userName.textContent=e.name,this._userOccupation.textContent=e.about,this._avatar.style.backgroundImage="url(".concat(e.avatar,")"),this._userId=e._id}}])&&$(t.prototype,n),e}();function K(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Q=function(){function e(t){var n=t.baseUrl,r=t.headers;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._baseUrl=n,this._headers=r}var t,n;return t=e,(n=[{key:"_handleResponse",value:function(e){return e.ok?e.json():Promise.reject("Ошибка: ".concat(e.status))}},{key:"getCards",value:function(){return fetch("".concat(this._baseUrl,"cards"),{headers:this._headers}).then(this._handleResponse)}},{key:"handleCard",value:function(e){return fetch("".concat(this._baseUrl,"cards"),{method:"POST",headers:this._headers,body:JSON.stringify({name:e.name,link:e.link})}).then(this._handleResponse)}},{key:"getUserInfo",value:function(){return fetch("".concat(this._baseUrl,"users/me"),{headers:this._headers}).then(this._handleResponse)}},{key:"handleUserInfo",value:function(e){return fetch("".concat(this._baseUrl,"users/me"),{method:"PATCH",headers:this._headers,body:JSON.stringify({name:e.name,about:e.about})}).then(this._handleResponse)}},{key:"handleAvatar",value:function(e){return fetch("".concat(this._baseUrl,"users/me/avatar"),{method:"PATCH",headers:this._headers,body:JSON.stringify(e)}).then(this._handleResponse)}},{key:"handleLike",value:function(e){return fetch("".concat(this._baseUrl,"cards/likes/").concat(e),{method:"PUT",headers:this._headers}).then(this._handleResponse)}},{key:"handleDislike",value:function(e){return fetch("".concat(this._baseUrl,"cards/likes/").concat(e),{method:"DELETE",headers:this._headers}).then(this._handleResponse)}},{key:"handleDelete",value:function(e){return fetch("".concat(this._baseUrl,"cards/").concat(e),{method:"DELETE",headers:this._headers}).then(this._handleResponse)}}])&&K(t.prototype,n),e}();function W(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function X(e,t){ue.open(e,t)}function Y(e){var t=new m({data:e,cardSelector:i,handleCardClick:X,userId:ie.getUserInfo().userId,handleLikeClick:function(){return function(e,t){(e.isLiked(t)?oe.handleDislike(t._id):oe.handleLike(t._id)).then((function(t){e.setLike(t)})).catch((function(e){console.log(e)}))}(t,e)},handleDeleteButton:function(){return function(e){re.open(),re.setNewHandler((function(){re.setButtonText(!0),oe.handleDelete(e.getCardId()).then((function(){e.handleDeleteCard(),re.close()})).catch((function(e){console.log(e)})).finally((function(){re.setButtonText(!1)}))}))}(t)}});return t.generateCard()}var Z=new k({render:function(e){Z.addItem(Y(e))},containerSelector:o}),ee=new U(h,(function(e){ee.setButtonText(!0),oe.handleCard(e).then((function(e){Z.addItem(Y(e),!1),ee.close()})).catch((function(e){console.log(e)})).finally((function(){ee.setButtonText(!1)}))}));ee.setEventListeners();var te=new U(s,(function(e){te.setButtonText(!0),oe.handleUserInfo(e).then((function(e){ie.setUserInfo(e),te.close()})).catch((function(e){console.log(e)})).finally((function(){te.setButtonText(!1)}))}));te.setEventListeners();var ne=new U(u,(function(e){ne.setButtonText(!0),oe.handleAvatar(e).then((function(e){ie.setUserInfo(e),ne.close()})).catch((function(e){console.log(e)})).finally((function(){ne.setButtonText(!1)}))}));ne.setEventListeners();var re=new J(_);re.setEventListeners();var oe=new Q({baseUrl:"https://mesto.nomoreparties.co/v1/cohort-26/",headers:{authorization:"b0e0b94f-d543-4f9f-b125-9b741686cafd","Content-Type":"application/json"}}),ie=new G(e),ue=new B(d);ue.setEventListeners();var ae=new z(y,a);ae.enableValidation();var se=new z(y,c);se.enableValidation();var ce=new z(y,p);ce.enableValidation(),Promise.all([oe.getCards(),oe.getUserInfo()]).then((function(e){var t,n,r=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],u=!0,a=!1;try{for(n=n.call(e);!(u=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);u=!0);}catch(e){a=!0,o=e}finally{try{u||null==n.return||n.return()}finally{if(a)throw o}}return i}}(t,n)||function(e,t){if(e){if("string"==typeof e)return W(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?W(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],i=r[1];ie.setUserInfo(i),Z.renderItems(o)})).catch((function(e){console.log(e)})),t.addEventListener("click",(function(){ae.toggleButtonState(),ae.hideError(),ne.open()})),r.addEventListener("click",(function(){ce.toggleButtonState(),ce.hideError(),ee.open()})),n.addEventListener("click",(function(){te.open();var e=ie.getUserInfo();l.value=e.name,f.value=e.about,se.toggleButtonState(),se.hideError()}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly95YW5kZXgucHJha3Rpa3VtLy4vc3JjL3V0aWxzL3ZhcmlhYmxlcy5qcyIsIndlYnBhY2s6Ly95YW5kZXgucHJha3Rpa3VtLy4vc3JjL3V0aWxzL3ZhbGlkYXRpb24tbGlzdC5qcyIsIndlYnBhY2s6Ly95YW5kZXgucHJha3Rpa3VtLy4vc3JjL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly95YW5kZXgucHJha3Rpa3VtLy4vc3JjL2NvbXBvbmVudHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly95YW5kZXgucHJha3Rpa3VtLy4vc3JjL2NvbXBvbmVudHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8veWFuZGV4LnByYWt0aWt1bS8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL3lhbmRleC5wcmFrdGlrdW0vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL3lhbmRleC5wcmFrdGlrdW0vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhTdWJtaXQuanMiLCJ3ZWJwYWNrOi8veWFuZGV4LnByYWt0aWt1bS8uL3NyYy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8veWFuZGV4LnByYWt0aWt1bS8uL3NyYy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIiwid2VicGFjazovL3lhbmRleC5wcmFrdGlrdW0vLi9zcmMvY29tcG9uZW50cy9BcGkuanMiLCJ3ZWJwYWNrOi8veWFuZGV4LnByYWt0aWt1bS8uL3NyYy9wYWdlcy9pbmRleC5qcyJdLCJuYW1lcyI6WyJ1c2VySWZvcm1hdGlvbiIsInVzZXJOYW1lIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwidXNlckFib3V0IiwidXNlckF2YXRhciIsInVzZXJJZCIsImF2YXRhciIsImJ1dHRvbkVkaXRQcm9maWxlIiwiYnV0dG9uQWRkUGxhY2UiLCJsaXN0RWxlbWVudHMiLCJ0ZW1wbGF0ZUVsZW1lbnQiLCJjb250ZW50IiwiYXZhdGFyRm9ybSIsImZvcm1BdmF0YXIiLCJlZGl0Rm9ybSIsImZvcm1FZGl0IiwiaW5wdXROYW1lIiwiaW5wdXRPY2N1cGF0aW9uIiwiYWRkRm9ybSIsImZvcm1FbGVtZW50IiwicG9wdXBJbWFnZSIsInBvcHVwRGVsZXRlIiwiYXJyYXlWYWxpZGF0aW9uIiwicXVlcnlTZWxlY3RvckFsbCIsImlucHV0U2VsZWN0b3IiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJpbnB1dEVycm9yQ2xhc3MiLCJlcnJvckNsYXNzIiwiQ2FyZCIsImRhdGEiLCJjYXJkU2VsZWN0b3IiLCJoYW5kbGVDYXJkQ2xpY2siLCJoYW5kbGVMaWtlQ2xpY2siLCJoYW5kbGVEZWxldGVCdXR0b24iLCJ0aGlzIiwiX2RhdGEiLCJfcGxhY2UiLCJuYW1lIiwiX2xpbmsiLCJsaW5rIiwiX293bmVySWQiLCJvd25lciIsIl9pZCIsIl9jYXJkSWQiLCJfbGlrZXMiLCJsaWtlcyIsIl9jYXJkU2VsZWN0b3IiLCJfaGFuZGxlQ2FyZENsaWNrIiwiX3VzZXJJZCIsIl9oYW5kbGVMaWtlQ2xpY2siLCJfaGFuZGxlRGVsZXRlQnV0dG9uIiwiY2xvbmVOb2RlIiwiX2RlbGV0ZUJ1dHRvbiIsInN0eWxlIiwiZGlzcGxheSIsIl9pc0xpa2VkIiwiZmlsdGVyIiwiaXRlbSIsImxlbmd0aCIsIl9saWtlQ291bnRlciIsInRleHRDb250ZW50IiwiX2xpa2VCdXR0b24iLCJjbGFzc0xpc3QiLCJhZGQiLCJyZW1vdmUiLCJfZWxlbWVudCIsIl9nZXRUZW1wbGF0ZSIsIl90aXRsZUVsZW1lbnQiLCJfaW1lZ2VFbGVtZW50IiwiX3NldEV2ZW50TGlzdGVuZXJzIiwic3JjIiwiYWx0IiwiX2hpZGVEZWxldGVCdXR0b24iLCJzZXRMaWtlIiwiYWRkRXZlbnRMaXN0ZW5lciIsIlNlY3Rpb24iLCJyZW5kZXIiLCJjb250YWluZXJTZWxlY3RvciIsIl9jb250YWluZXJTZWxlY3RvciIsIl9yZW5kZXIiLCJyZW5kZXJJdGVtcyIsImZvckVhY2giLCJlbGVtZW50Iiwib3JkZXIiLCJhcHBlbmQiLCJwcmVwZW5kIiwiUG9wdXAiLCJwb3B1cFNlbGVjdG9yIiwiX3BvcHVwIiwiX2hhbmRsZUVzY0Nsb3NlIiwiYmluZCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJldmVudCIsImtleSIsImNsb3NlIiwidGFyZ2V0IiwiY3VycmVudFRhcmdldCIsIlBvcHVwV2l0aEltYWdlIiwiX3BvcHVwSW1hZ2UiLCJfcG9wdXBDYXB0aW9uIiwiUG9wdXBXaXRoRm9ybSIsImhhbmRsZUZvcm1TdWJtaXQiLCJfaGFuZGxlRm9ybVN1Ym1pdCIsIl9mb3JtIiwiX2NvbmZpcm1CdXR0b24iLCJfaW5wdXRzIiwiX2lucHV0TGlzdCIsIkFycmF5IiwiZnJvbSIsIl9mb3JtVmFsdWVzIiwiaW5wdXQiLCJ2YWx1ZSIsInByZXZlbnREZWZhdWx0IiwiX2dldElucHV0VmFsdWVzIiwicmVzZXQiLCJpc0RlbGV0aW5nIiwiUG9wdXBXaXRoU3VibWl0IiwiYWN0aW9uIiwiRm9ybVZhbGlkYXRvciIsImZvcm0iLCJzb21lIiwiaW5wdXRFbGVtZW50IiwidmFsaWRpdHkiLCJ2YWxpZCIsIl9oYXNJbnZhbGlkSW5wdXQiLCJfYnV0dG9uRWxlbWVudCIsIl9pbmFjdGl2ZUJ1dHRvbkNsYXNzIiwic2V0QXR0cmlidXRlIiwicmVtb3ZlQXR0cmlidXRlIiwiZXJyb3JNZXNzYWdlIiwiZXJyb3JFbGVtZW50IiwiaWQiLCJfaW5wdXRFcnJvckNsYXNzIiwiX2Vycm9yQ2xhc3MiLCJ0eXBlTWlzbWF0Y2giLCJfc2hvd0lucHV0RXJyb3IiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsIl9oaWRlSW5wdXRFcnJvciIsIl9pc1ZhbGlkIiwidG9nZ2xlQnV0dG9uU3RhdGUiLCJfaW5wdXRTZWxlY3RvciIsIl9zdWJtaXRCdXR0b25TZWxlY3RvciIsIlVzZXJJbmZvIiwiX3VzZXJOYW1lIiwiX3VzZXJPY2N1cGF0aW9uIiwiX2F2YXRhciIsImFib3V0IiwiYmFja2dyb3VuZEltYWdlIiwiQXBpIiwiYmFzZVVybCIsImhlYWRlcnMiLCJfYmFzZVVybCIsIl9oZWFkZXJzIiwicmVzIiwib2siLCJqc29uIiwiUHJvbWlzZSIsInJlamVjdCIsInN0YXR1cyIsImZldGNoIiwidGhlbiIsIl9oYW5kbGVSZXNwb25zZSIsIm1ldGhvZCIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwicGxhY2UiLCJwb3B1cFR5cGVJbWFnZSIsIm9wZW4iLCJjcmVhdGVOZXdFbGVtZW50IiwiY2FyZCIsInVzZXJQcm9maWxlIiwiZ2V0VXNlckluZm8iLCJpc0xpa2VkIiwiYXBpIiwiaGFuZGxlRGlzbGlrZSIsImhhbmRsZUxpa2UiLCJjYXRjaCIsImVyciIsImNvbnNvbGUiLCJsb2ciLCJwb3B1cERlbGV0ZUNvbmZpcm1hdGlvbiIsInNldE5ld0hhbmRsZXIiLCJzZXRCdXR0b25UZXh0IiwiaGFuZGxlRGVsZXRlIiwiZ2V0Q2FyZElkIiwiaGFuZGxlRGVsZXRlQ2FyZCIsImZpbmFsbHkiLCJnZW5lcmF0ZUNhcmQiLCJjYXJkTGlzdCIsImFkZEl0ZW0iLCJwb3B1cEFkZEVsZW1lbnQiLCJoYW5kbGVDYXJkIiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJwb3B1cEVkaXRQcm9maWxlIiwidXNlckRhdGEiLCJoYW5kbGVVc2VySW5mbyIsInNldFVzZXJJbmZvIiwicG9wdXBFZGl0QXZhdGFyIiwiaGFuZGxlQXZhdGFyIiwiYXV0aG9yaXphdGlvbiIsInZhbGlkYXRpb25FZGl0QXZhdGFyRm9ybSIsImVuYWJsZVZhbGlkYXRpb24iLCJ2YWxpZGF0aW9uRWRpdEZvcm0iLCJ2YWxpZGF0aW9uQWRkRWxlbWVudEZvcm0iLCJhbGwiLCJnZXRDYXJkcyIsImluaXRpYWxFbGVtZW50cyIsImhpZGVFcnJvciIsInByb2ZpbGUiXSwibWFwcGluZ3MiOiJtQkFDTyxJQUFNQSxFQUFpQixDQUM1QkMsU0FBVUMsU0FBU0MsY0FBYyxrQkFDakNDLFVBQVdGLFNBQVNDLGNBQWMsd0JBQ2xDRSxXQUFZSCxTQUFTQyxjQUFjLG9C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QVV0QyxHQUFZQyxjQUM1QjdKLFFBQWtCa00sRUFBUTVLLEtBQzFCckIsUUFBd0JpTSxFQUFRL0QsTUFDaEN5RCxHQUFtQmhFLG9CQUNuQmdFLEdBQW1CSyxnQiIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gUFJPRklMRVxuZXhwb3J0IGNvbnN0IHVzZXJJZm9ybWF0aW9uID0ge1xuICB1c2VyTmFtZTogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX25hbWUnKSxcbiAgdXNlckFib3V0OiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fb2NjdXBhdGlvbicpLFxuICB1c2VyQXZhdGFyOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fYXZhdGFyJyksXG4gIHVzZXJJZDogbnVsbCxcbn07XG5leHBvcnQgY29uc3QgYXZhdGFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2F2YXRhcicpO1xuZXhwb3J0IGNvbnN0IGJ1dHRvbkVkaXRQcm9maWxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2VkaXQtYnV0dG9uJyk7IC8vIEJVVFRPTiBFRElUIFBST0ZJTEVcbmV4cG9ydCBjb25zdCBidXR0b25BZGRQbGFjZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19hZGQtYnV0dG9uJyk7IC8vIEJVVFRPTiBBREQgUExBQ0Vcbi8vIEVMRU1FTlRTXG5leHBvcnQgY29uc3QgbGlzdEVsZW1lbnRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRzX19saXN0Jyk7IC8vIFVMXG4vLyBURU1QTEFURVxuZXhwb3J0IGNvbnN0IHRlbXBsYXRlRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50LXRlbXBsYXRlJykuY29udGVudDsgLy8gVEVNUExBVEUgQ09OVEVOVFxuLy8gUE9QVVAgRURJVCBBVkFUQVJcbmV4cG9ydCBjb25zdCBhdmF0YXJGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2VkaXQtYXZhdGFyJyk7IC8vIFBPUFVQXG5leHBvcnQgY29uc3QgZm9ybUF2YXRhciA9IGF2YXRhckZvcm0ucXVlcnlTZWxlY3RvcignZm9ybScpOyAvLyBGT1JNIGVkaXQgYXZhdGFyXG4vLyBQT1BVUCBFRElUIFBST0ZJTEVcbmV4cG9ydCBjb25zdCBlZGl0Rm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNlZGl0LXByb2ZpbGUnKTsgLy8gUE9QVVBcbmV4cG9ydCBjb25zdCBmb3JtRWRpdCA9IGVkaXRGb3JtLnF1ZXJ5U2VsZWN0b3IoJ2Zvcm0nKTsgLy8gRk9STSBlZGl0IHByb2ZpbGVcbmV4cG9ydCBjb25zdCBpbnB1dE5hbWUgPSBlZGl0Rm9ybS5xdWVyeVNlbGVjdG9yKCdpbnB1dFtuYW1lPVwibmFtZVwiXScpOyAvLyBJTlBVVCBuYW1lXG5leHBvcnQgY29uc3QgaW5wdXRPY2N1cGF0aW9uID0gZWRpdEZvcm0ucXVlcnlTZWxlY3RvcignaW5wdXRbbmFtZT1cImFib3V0XCJdJyk7IC8vIElOUFVUIG9jY3VwYXRpb25cbi8vUE9QVVAgQUREIEVMRU1FTlRcbmV4cG9ydCBjb25zdCBhZGRGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2FkZC1wbGFjZScpOyAvLyBQT1BVUFxuZXhwb3J0IGNvbnN0IGZvcm1FbGVtZW50ID0gYWRkRm9ybS5xdWVyeVNlbGVjdG9yKCdmb3JtJyk7IC8vIEZPUk1cbi8vUE9QVVAgSU1BR0VcbmV4cG9ydCBjb25zdCBwb3B1cEltYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX3R5cGVfaW1hZ2UnKTsgLy8gUE9QVVBcbi8vUE9QVVAgREVMRVRFIENPTkZJUk1BVElPTlxuZXhwb3J0IGNvbnN0IHBvcHVwRGVsZXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2RlbGV0ZS1jb25mb3JtYXRpb24nKTtcbi8vU1VCTUlUU1xuZXhwb3J0IGNvbnN0IGFsbFN1Ym1pdHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdidXR0b25bdHlwZT1cInN1Ym1pdFwiXScpO1xuLy9BUElcbmV4cG9ydCBjb25zdCB1cmwgPSAnaHR0cHM6Ly9tZXN0by5ub21vcmVwYXJ0aWVzLmNvL3YxL2NvaG9ydC0yNi8nOyAvLyBVUkxcbmV4cG9ydCBjb25zdCB0b2tlbiA9ICdiMGUwYjk0Zi1kNTQzLTRmOWYtYjEyNS05Yjc0MTY4NmNhZmQnOyAvLyBUT0tFTiIsImV4cG9ydCBjb25zdCBhcnJheVZhbGlkYXRpb24gPSB7XG4gIGlucHV0U2VsZWN0b3I6ICcucG9wdXBfX2lucHV0JyxcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6ICcucG9wdXBfX3NhdmUtYnV0dG9uJyxcbiAgaW5hY3RpdmVCdXR0b25DbGFzczogJ3BvcHVwX19zYXZlLWJ1dHRvbl9kaXNhYmxlZCcsXG4gIGlucHV0RXJyb3JDbGFzczogJ3BvcHVwX19pbnB1dF9lcnJvcicsXG4gIGVycm9yQ2xhc3M6ICdwb3B1cF9faW5wdXQtZXJyb3JfYWN0aXZlJyxcbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBDYXJkIHtcbiAgY29uc3RydWN0b3IoeyBkYXRhLCBjYXJkU2VsZWN0b3IsIGhhbmRsZUNhcmRDbGljaywgdXNlcklkLCBoYW5kbGVMaWtlQ2xpY2ssIGhhbmRsZURlbGV0ZUJ1dHRvbiB9KSB7XG4gICAgdGhpcy5fZGF0YSA9IGRhdGE7XG4gICAgdGhpcy5fcGxhY2UgPSBkYXRhLm5hbWU7XG4gICAgdGhpcy5fbGluayA9IGRhdGEubGluaztcbiAgICB0aGlzLl9vd25lcklkID0gZGF0YS5vd25lci5faWQ7XG4gICAgdGhpcy5fY2FyZElkID0gZGF0YS5faWQ7XG4gICAgdGhpcy5fbGlrZXMgPSBkYXRhLmxpa2VzO1xuICAgIHRoaXMuX2NhcmRTZWxlY3RvciA9IGNhcmRTZWxlY3RvcjtcbiAgICB0aGlzLl9oYW5kbGVDYXJkQ2xpY2sgPSBoYW5kbGVDYXJkQ2xpY2s7XG4gICAgdGhpcy5fdXNlcklkID0gdXNlcklkO1xuICAgIHRoaXMuX2hhbmRsZUxpa2VDbGljayA9IGhhbmRsZUxpa2VDbGljaztcbiAgICB0aGlzLl9oYW5kbGVEZWxldGVCdXR0b24gPSBoYW5kbGVEZWxldGVCdXR0b247XG4gIH1cblxuICBnZXRDYXJkSWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2NhcmRJZDtcbiAgfVxuXG4gIF9nZXRUZW1wbGF0ZSgpIHtcbiAgICBjb25zdCBjYXJkRWxlbWVudCA9IHRoaXMuX2NhcmRTZWxlY3Rvci5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudCcpLmNsb25lTm9kZSh0cnVlKTtcbiAgICByZXR1cm4gY2FyZEVsZW1lbnQ7XG4gIH1cblxuICBfaGlkZURlbGV0ZUJ1dHRvbigpIHtcbiAgICBpZiAodGhpcy5fb3duZXJJZCAhPT0gdGhpcy5fdXNlcklkKSB7XG4gICAgICB0aGlzLl9kZWxldGVCdXR0b24uc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICB9XG4gIH1cblxuICBpc0xpa2VkKCkge1xuICAgIHJldHVybiB0aGlzLl9pc0xpa2VkO1xuICB9XG5cbiAgc2V0TGlrZShkYXRhKSB7XG4gICAgdGhpcy5faXNMaWtlZCA9IGRhdGEubGlrZXMuZmlsdGVyKChpdGVtKSA9PiB7IHJldHVybiBpdGVtLl9pZCA9PSB0aGlzLl91c2VySWQ7IH0pLmxlbmd0aCA+IDA7XG4gICAgdGhpcy5fbGlrZUNvdW50ZXIudGV4dENvbnRlbnQgPSBkYXRhLmxpa2VzLmxlbmd0aDtcbiAgICBpZiAodGhpcy5faXNMaWtlZCkge1xuICAgICAgdGhpcy5fbGlrZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdlbGVtZW50X19saWtlLWJ1dHRvbl9hY3RpdmUnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fbGlrZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdlbGVtZW50X19saWtlLWJ1dHRvbl9hY3RpdmUnKTtcbiAgICB9XG4gIH1cblxuICBnZW5lcmF0ZUNhcmQoKSB7XG4gICAgdGhpcy5fZWxlbWVudCA9IHRoaXMuX2dldFRlbXBsYXRlKCk7XG4gICAgdGhpcy5fdGl0bGVFbGVtZW50ID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudF9fdGl0bGUnKTtcbiAgICB0aGlzLl9pbWVnZUVsZW1lbnQgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X19pbWFnZScpO1xuICAgIHRoaXMuX2xpa2VCdXR0b24gPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X19saWtlLWJ1dHRvbicpO1xuICAgIHRoaXMuX2xpa2VDb3VudGVyID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudF9fbGlrZS1jb3VudGVyJyk7XG4gICAgdGhpcy5fZGVsZXRlQnV0dG9uID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudF9fZGVsZXRlLWJ1dHRvbicpO1xuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgdGhpcy5faW1lZ2VFbGVtZW50LnNyYyA9IHRoaXMuX2xpbms7XG4gICAgdGhpcy5faW1lZ2VFbGVtZW50LmFsdCA9IHRoaXMuX3BsYWNlO1xuICAgIHRoaXMuX3RpdGxlRWxlbWVudC50ZXh0Q29udGVudCA9IHRoaXMuX3BsYWNlO1xuICAgIHRoaXMuX2hpZGVEZWxldGVCdXR0b24oKTtcbiAgICB0aGlzLnNldExpa2UodGhpcy5fZGF0YSk7XG4gICAgcmV0dXJuIHRoaXMuX2VsZW1lbnQ7XG4gIH1cblxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5fZGVsZXRlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgdGhpcy5faGFuZGxlRGVsZXRlQnV0dG9uKCk7XG4gICAgfSk7XG4gICAgdGhpcy5fbGlrZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIHRoaXMuX2hhbmRsZUxpa2VDbGljaygpO1xuICAgIH0pO1xuICAgIHRoaXMuX2ltZWdlRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljayh0aGlzLl9wbGFjZSwgdGhpcy5fbGluayk7XG4gICAgfSk7XG4gIH1cblxuICBoYW5kbGVEZWxldGVDYXJkKCkge1xuICAgIHRoaXMuX2VsZW1lbnQucmVtb3ZlKCk7XG4gICAgdGhpcy5fZWxlbWVudCA9IG51bGw7XG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlY3Rpb24ge1xuICBjb25zdHJ1Y3Rvcih7cmVuZGVyLCBjb250YWluZXJTZWxlY3Rvcn0pIHtcbiAgICB0aGlzLl9jb250YWluZXJTZWxlY3RvciA9IGNvbnRhaW5lclNlbGVjdG9yO1xuICAgIHRoaXMuX3JlbmRlciA9IHJlbmRlcjtcbiAgfVxuXG4gIHJlbmRlckl0ZW1zKHJlbmRlckl0ZW1zKSB7XG4gICAgcmVuZGVySXRlbXMuZm9yRWFjaChpdGVtID0+IHtcbiAgICAgIHRoaXMuX3JlbmRlcihpdGVtKVxuICAgIH0pO1xuXG4gIH1cblxuICBhZGRJdGVtKGVsZW1lbnQsIG9yZGVyID0gdHJ1ZSkge1xuICAgIGlmIChvcmRlcikge1xuICAgICAgdGhpcy5fY29udGFpbmVyU2VsZWN0b3IuYXBwZW5kKGVsZW1lbnQpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9jb250YWluZXJTZWxlY3Rvci5wcmVwZW5kKGVsZW1lbnQpO1xuICAgIH1cbiAgfVxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xuICAgIHRoaXMuX3BvcHVwID0gcG9wdXBTZWxlY3RvcjtcbiAgICB0aGlzLl9oYW5kbGVFc2NDbG9zZSA9IHRoaXMuX2hhbmRsZUVzY0Nsb3NlLmJpbmQodGhpcylcbiAgfVxuXG4gIG9wZW4oKSB7XG4gICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LmFkZCgncG9wdXBfb3BlbmVkJyk7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcbiAgfVxuXG4gIGNsb3NlKCkge1xuICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5yZW1vdmUoJ3BvcHVwX29wZW5lZCcpO1xuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XG4gIH1cblxuICBfaGFuZGxlRXNjQ2xvc2UoZXZlbnQpIHtcbiAgICBpZiAoZXZlbnQua2V5ID09PSAnRXNjYXBlJykge1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH1cbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fZXhpdC1idXR0b24nKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4gdGhpcy5jbG9zZSgpKTsgLy9jbG9zZShldmVudCkgPz8/XG4gICAgdGhpcy5fcG9wdXAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHsgLy8g0LzQvtC20L3QviDQv9C10YDQtdC90LXRgdGC0Lgg0LIg0L7RgtC00LXQu9GM0L3Rg9GOINGE0YPQvdC60YbQuNGOXG4gICAgICBpZiAoZXZlbnQudGFyZ2V0ID09PSBldmVudC5jdXJyZW50VGFyZ2V0KSB7XG4gICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgIH1cbiAgICB9KVxuICB9XG59IiwiaW1wb3J0IFBvcHVwIGZyb20gJy4vUG9wdXAuanMnO1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoSW1hZ2UgZXh0ZW5kcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcbiAgICB0aGlzLl9wb3B1cEltYWdlID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19pbWFnZScpO1xuICAgIHRoaXMuX3BvcHVwQ2FwdGlvbiA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fY2FwdGlvbicpO1xuICB9XG5cbiAgb3BlbihuYW1lLCBsaW5rKSB7XG4gICAgdGhpcy5fcG9wdXBDYXB0aW9uLnRleHRDb250ZW50ID0gbmFtZTtcbiAgICB0aGlzLl9wb3B1cEltYWdlLnNyYyA9IGxpbms7XG4gICAgdGhpcy5fcG9wdXBJbWFnZS5hbHQgPSBuYW1lO1xuICAgIHN1cGVyLm9wZW4oKTtcbiAgfVxufSIsImltcG9ydCBQb3B1cCBmcm9tICcuL1BvcHVwLmpzJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3RvciwgaGFuZGxlRm9ybVN1Ym1pdCkge1xuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xuICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQgPSBoYW5kbGVGb3JtU3VibWl0O1xuICAgIHRoaXMuX2Zvcm0gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2Zvcm0nKTtcbiAgICB0aGlzLl9jb25maXJtQnV0dG9uID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX3NhdmUtYnV0dG9uJyk7XG4gICAgdGhpcy5faW5wdXRzID10aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoJy5wb3B1cF9faW5wdXQnKTtcbiAgfVxuXG4gIF9nZXRJbnB1dFZhbHVlcygpIHtcbiAgICB0aGlzLl9pbnB1dExpc3QgPSBBcnJheS5mcm9tKHRoaXMuX2lucHV0cyk7XG4gICAgdGhpcy5fZm9ybVZhbHVlcyA9IHt9O1xuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKGlucHV0ID0+IHRoaXMuX2Zvcm1WYWx1ZXNbaW5wdXQubmFtZV0gPSBpbnB1dC52YWx1ZSk7XG4gICAgcmV0dXJuIHRoaXMuX2Zvcm1WYWx1ZXM7XG4gIH1cblxuICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLl9mb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChldmVudCkgPT4ge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQodGhpcy5fZ2V0SW5wdXRWYWx1ZXMoKSk7XG4gICAgfSk7XG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgfVxuXG4gIGNsb3NlKCkge1xuICAgIHN1cGVyLmNsb3NlKCk7XG4gICAgdGhpcy5fZm9ybS5yZXNldCgpO1xuICB9XG5cbiAgc2V0QnV0dG9uVGV4dChpc0RlbGV0aW5nKSB7XG4gICAgaWYgKGlzRGVsZXRpbmcpIHtcbiAgICAgIHRoaXMuX2NvbmZpcm1CdXR0b24udGV4dENvbnRlbnQgPSAn0KHQvtGF0YDQsNC90LXQvdC40LUuLi4nXG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2NvbmZpcm1CdXR0b24udGV4dENvbnRlbnQgPSAn0KHQvtGF0YDQsNC90LjRgtGMJ1xuICAgIH1cbiAgfVxuXG59IiwiaW1wb3J0IFBvcHVwIGZyb20gJy4vUG9wdXAuanMnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhTdWJtaXQgZXh0ZW5kcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcbiAgICB0aGlzLl9mb3JtID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19mb3JtJyk7XG4gICAgdGhpcy5fY29uZmlybUJ1dHRvbiA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvcignLnBvcHVwX19zYXZlLWJ1dHRvbicpXG4gIH1cblxuICBzZXROZXdIYW5kbGVyKGFjdGlvbikge1xuICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQgPSBhY3Rpb247XG4gIH1cblxuICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xuICAgIHRoaXMuX2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGV2ZW50KSA9PiB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCgpO1xuICAgIH0pO1xuICB9XG5cbiAgc2V0QnV0dG9uVGV4dChpc0RlbGV0aW5nKSB7XG4gICAgaWYgKGlzRGVsZXRpbmcpIHtcbiAgICAgIHRoaXMuX2NvbmZpcm1CdXR0b24udGV4dENvbnRlbnQgPSAn0KPQtNCw0LvQtdC90LjQtS4uLidcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fY29uZmlybUJ1dHRvbi50ZXh0Q29udGVudCA9ICfQlNCwJ1xuICAgIH1cbiAgfVxuXG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgRm9ybVZhbGlkYXRvciB7XG4gIGNvbnN0cnVjdG9yKGRhdGEsIGZvcm0pIHtcbiAgICB0aGlzLl9pbnB1dFNlbGVjdG9yID0gZGF0YS5pbnB1dFNlbGVjdG9yO1xuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yID0gZGF0YS5zdWJtaXRCdXR0b25TZWxlY3RvcjtcbiAgICB0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzID0gZGF0YS5pbmFjdGl2ZUJ1dHRvbkNsYXNzO1xuICAgIHRoaXMuX2lucHV0RXJyb3JDbGFzcyA9IGRhdGEuaW5wdXRFcnJvckNsYXNzO1xuICAgIHRoaXMuX2Vycm9yQ2xhc3MgPSBkYXRhLmVycm9yQ2xhc3M7XG4gICAgdGhpcy5fZm9ybSA9IGZvcm07XG4gICAgdGhpcy5faW5wdXRMaXN0ID0gQXJyYXkuZnJvbSh0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5faW5wdXRTZWxlY3RvcikpO1xuICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQgPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IodGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IpO1xuICB9XG5cbiAgX2hhc0ludmFsaWRJbnB1dCA9ICgpID0+IHtcbiAgICByZXR1cm4gdGhpcy5faW5wdXRMaXN0LnNvbWUoKGlucHV0RWxlbWVudCkgPT4ge1xuICAgICAgcmV0dXJuICFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQ7XG4gICAgfSlcbiAgfVxuXG4gIHRvZ2dsZUJ1dHRvblN0YXRlID0gKCkgPT4ge1xuICAgIGlmICh0aGlzLl9oYXNJbnZhbGlkSW5wdXQoKSkge1xuICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xuICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJywgJ2Rpc2FibGVkJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCdkaXNhYmxlZCcpO1xuICAgIH1cbiAgfVxuXG4gIF9zaG93SW5wdXRFcnJvciA9IChpbnB1dEVsZW1lbnQsIGVycm9yTWVzc2FnZSkgPT4ge1xuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvcihgIyR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmApO1xuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gZXJyb3JNZXNzYWdlO1xuICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2Vycm9yQ2xhc3MpO1xuICB9XG5cbiAgX2hpZGVJbnB1dEVycm9yID0gKGlucHV0RWxlbWVudCkgPT4ge1xuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvcihgIyR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmApO1xuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fZXJyb3JDbGFzcyk7XG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gJyc7XG4gIH1cblxuICBfaXNWYWxpZCA9IChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICBpZiAoIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZCB8fCBpbnB1dEVsZW1lbnQudmFsaWRpdHkudHlwZU1pc21hdGNoKSB7XG4gICAgICB0aGlzLl9zaG93SW5wdXRFcnJvcihpbnB1dEVsZW1lbnQsIGlucHV0RWxlbWVudC52YWxpZGF0aW9uTWVzc2FnZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XG4gICAgfVxuICB9XG5cbiAgX3NldEV2ZW50TGlzdGVuZXJzID0gKCkgPT4ge1xuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgIGlucHV0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHtcbiAgICAgICAgdGhpcy5faXNWYWxpZChpbnB1dEVsZW1lbnQpO1xuICAgICAgICB0aGlzLnRvZ2dsZUJ1dHRvblN0YXRlKCk7XG4gICAgICB9KVxuICAgIH0pXG4gIH1cblxuICBoaWRlRXJyb3IgPSAoKSA9PiB7XG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcbiAgICB9KVxuICB9XG5cbiAgZW5hYmxlVmFsaWRhdGlvbiA9ICgpID0+IHtcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xuICAgIHRoaXMuX2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGV2ZW50KSA9PiB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0pO1xuICB9XG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXNlckluZm8ge1xuICBjb25zdHJ1Y3Rvcih7dXNlck5hbWUsIHVzZXJBYm91dCwgdXNlckF2YXRhciwgdXNlcklkfSkge1xuICAgIHRoaXMuX3VzZXJOYW1lID0gdXNlck5hbWU7XG4gICAgdGhpcy5fdXNlck9jY3VwYXRpb24gPSB1c2VyQWJvdXQ7XG4gICAgdGhpcy5fYXZhdGFyID0gdXNlckF2YXRhcjtcbiAgICB0aGlzLl91c2VySWQgPSB1c2VySWQ7XG4gIH1cblxuICBnZXRVc2VySW5mbygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbmFtZTogdGhpcy5fdXNlck5hbWUudGV4dENvbnRlbnQsXG4gICAgICBhYm91dDogdGhpcy5fdXNlck9jY3VwYXRpb24udGV4dENvbnRlbnQsXG4gICAgICBhdmF0YXI6IHRoaXMuX2F2YXRhcixcbiAgICAgIHVzZXJJZDogdGhpcy5fdXNlcklkXG4gICAgfVxuICB9XG5cbiAgc2V0VXNlckluZm8oZGF0YSkge1xuICAgIHRoaXMuX3VzZXJOYW1lLnRleHRDb250ZW50ID0gZGF0YS5uYW1lO1xuICAgIHRoaXMuX3VzZXJPY2N1cGF0aW9uLnRleHRDb250ZW50ID0gZGF0YS5hYm91dDtcbiAgICB0aGlzLl9hdmF0YXIuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gYHVybCgke2RhdGEuYXZhdGFyfSlgO1xuICAgIHRoaXMuX3VzZXJJZCA9IGRhdGEuX2lkO1xuICB9XG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXBpIHtcbiAgY29uc3RydWN0b3IoeyBiYXNlVXJsLCBoZWFkZXJzIH0pIHtcbiAgICB0aGlzLl9iYXNlVXJsID0gYmFzZVVybDtcbiAgICB0aGlzLl9oZWFkZXJzID0gaGVhZGVycztcbiAgfVxuXG4gIF9oYW5kbGVSZXNwb25zZShyZXMpIHtcbiAgICBpZiAocmVzLm9rKSB7XG4gICAgICByZXR1cm4gcmVzLmpzb24oKTtcbiAgICB9XG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGDQntGI0LjQsdC60LA6ICR7cmVzLnN0YXR1c31gKTtcbiAgfTtcblxuICBnZXRDYXJkcygpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH1jYXJkc2AsIHtcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnNcbiAgICB9KVxuICAgICAgLnRoZW4odGhpcy5faGFuZGxlUmVzcG9uc2UpO1xuICB9XG5cbiAgaGFuZGxlQ2FyZChkYXRhKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9Y2FyZHNgLCB7XG4gICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIG5hbWU6IGRhdGEubmFtZSxcbiAgICAgICAgbGluazogZGF0YS5saW5rLFxuICAgICAgfSlcbiAgICB9KVxuICAgICAgLnRoZW4odGhpcy5faGFuZGxlUmVzcG9uc2UpO1xuICB9XG5cbiAgZ2V0VXNlckluZm8oKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9dXNlcnMvbWVgLCB7XG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzXG4gICAgfSlcbiAgICAgIC50aGVuKHRoaXMuX2hhbmRsZVJlc3BvbnNlKTtcbiAgfVxuXG4gIGhhbmRsZVVzZXJJbmZvKGRhdGEpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH11c2Vycy9tZWAsIHtcbiAgICAgIG1ldGhvZDogJ1BBVENIJyxcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIG5hbWU6IGRhdGEubmFtZSxcbiAgICAgICAgYWJvdXQ6IGRhdGEuYWJvdXQsXG4gICAgICB9KVxuICAgIH0pXG4gICAgICAudGhlbih0aGlzLl9oYW5kbGVSZXNwb25zZSk7XG4gIH1cblxuICBoYW5kbGVBdmF0YXIoZGF0YSkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfXVzZXJzL21lL2F2YXRhcmAsIHtcbiAgICAgIG1ldGhvZDogJ1BBVENIJyxcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShkYXRhKVxuICAgIH0pXG4gICAgICAudGhlbih0aGlzLl9oYW5kbGVSZXNwb25zZSk7XG4gIH1cblxuICBoYW5kbGVMaWtlKGRhdGEpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH1jYXJkcy9saWtlcy8ke2RhdGF9YCwge1xuICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgfSlcbiAgICAgIC50aGVuKHRoaXMuX2hhbmRsZVJlc3BvbnNlKTtcbiAgfVxuXG4gIGhhbmRsZURpc2xpa2UoZGF0YSkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfWNhcmRzL2xpa2VzLyR7ZGF0YX1gLCB7XG4gICAgICBtZXRob2Q6ICdERUxFVEUnLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICB9KVxuICAgICAgLnRoZW4odGhpcy5faGFuZGxlUmVzcG9uc2UpO1xuICB9XG5cbiAgaGFuZGxlRGVsZXRlKGRhdGEpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH1jYXJkcy8ke2RhdGF9YCwge1xuICAgICAgbWV0aG9kOiAnREVMRVRFJyxcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgfSlcbiAgICAgIC50aGVuKHRoaXMuX2hhbmRsZVJlc3BvbnNlKTtcblxuICB9XG59XG5cbiAgLy8g0KfRgtC+INC00L7Qu9C20L3QviDQsdGL0YLRjDpcbiAgLy8vLyDQt9Cw0LPRgNGD0LfQuCDQutCw0YDRgtC+0YfQutC4INGBINGB0LXRgNCy0LXRgNCwXG4gIC8vLy8g0LfQsNCz0YDRg9C30Lgg0LrQsNGA0YLQvtGH0LrQuCDQvdCwINGB0LXRgNCy0LXRgNCwXG4gIC8vLy8g0LfQsNCz0YDRg9C30Lgg0L/RgNC+0YTQuNC70Ywg0YEg0YHQtdGA0LLQtdGA0LBcbiAgLy8vLyDQt9Cw0LPRgNGD0LfQuCDQv9GA0L7RhNC40LvRjCDQvdCwINGB0LXRgNCy0LXRgFxuICAvLy8vINC30LDQs9GA0YPQt9C4INCw0LLQsNGC0LDRgCDRgSDRgdC10YDQstC10YDQsFxuICAvLy8vINC30LDQs9GA0YPQt9C4INCw0LLQsNGC0LDRgCDQvdCwINGB0LXRgNCy0LXRgFxuICAvLy8vINC30LDQs9GA0YPQt9C60LBcbiAgLy8vLyDQv9C+0YHRgtCw0LLRjCDQu9Cw0LnQulxuICAvLy8vINC/0L7RgdGC0LDQstGMINGD0LHQtdGA0Lgg0LvQsNC50LpcbiAgLy8qINGD0LTQsNC70Lgg0YHQstC+0Y4g0LrQsNGA0YLQvtGH0LrRgyIsIi8vIExpa2Ug0LggUGx1cyDQvdC1INGE0LjQutGB0LjQuywg0YIu0LouINGB0LrQsNC30LDQu9C4LCDRh9GC0L4g0L3QtSDQvdCw0LTQvi5cbmltcG9ydCAnLi4vcGFnZXMvaW5kZXguY3NzJztcbmltcG9ydCB7IHVzZXJJZm9ybWF0aW9uLCBhdmF0YXIsIGJ1dHRvbkVkaXRQcm9maWxlLCBidXR0b25BZGRQbGFjZSwgbGlzdEVsZW1lbnRzLCB0ZW1wbGF0ZUVsZW1lbnQsIGF2YXRhckZvcm0sIGZvcm1BdmF0YXIsIGVkaXRGb3JtLCBmb3JtRWRpdCwgaW5wdXROYW1lLCBpbnB1dE9jY3VwYXRpb24sIGFkZEZvcm0sIGZvcm1FbGVtZW50LCBwb3B1cEltYWdlLCBwb3B1cERlbGV0ZSwgYWxsU3VibWl0cywgdXJsLCB0b2tlbiB9IGZyb20gJy4uL3V0aWxzL3ZhcmlhYmxlcy5qcydcbmltcG9ydCB7IGFycmF5VmFsaWRhdGlvbiB9IGZyb20gJy4uL3V0aWxzL3ZhbGlkYXRpb24tbGlzdC5qcyc7XG5pbXBvcnQgQ2FyZCBmcm9tICcuLi9jb21wb25lbnRzL0NhcmQuanMnO1xuaW1wb3J0IFNlY3Rpb24gZnJvbSAnLi4vY29tcG9uZW50cy9TZWN0aW9uLmpzJztcbmltcG9ydCBQb3B1cFdpdGhJbWFnZSBmcm9tICcuLi9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzJztcbmltcG9ydCBQb3B1cFdpdGhGb3JtIGZyb20gJy4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcydcbmltcG9ydCBQb3B1cFdpdGhTdWJtaXQgZnJvbSAnLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhTdWJtaXQnO1xuaW1wb3J0IEZvcm1WYWxpZGF0b3IgZnJvbSAnLi4vY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzJztcbmltcG9ydCBVc2VySW5mbyBmcm9tICcuLi9jb21wb25lbnRzL1VzZXJJbmZvLmpzJztcbmltcG9ydCBBcGkgZnJvbSAnLi4vY29tcG9uZW50cy9BcGkuanMnXG5cbi8vKiBGdW5jdGlvbnMgYW5kIENsYXNzZXM6XG4vL0VMRU1FTlRcbmZ1bmN0aW9uIGhhbmRsZUNhcmRDbGljayhwbGFjZSwgbGluaykge1xuICBwb3B1cFR5cGVJbWFnZS5vcGVuKHBsYWNlLCBsaW5rKTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlRGVsZXRlQnV0dG9uKGNhcmQpIHtcbiAgcG9wdXBEZWxldGVDb25maXJtYXRpb24ub3BlbigpO1xuICBwb3B1cERlbGV0ZUNvbmZpcm1hdGlvbi5zZXROZXdIYW5kbGVyKCgpID0+IHtcbiAgICBwb3B1cERlbGV0ZUNvbmZpcm1hdGlvbi5zZXRCdXR0b25UZXh0KHRydWUpO1xuICAgIGFwaS5oYW5kbGVEZWxldGUoY2FyZC5nZXRDYXJkSWQoKSlcbiAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgY2FyZC5oYW5kbGVEZWxldGVDYXJkKCk7XG4gICAgICAgIHBvcHVwRGVsZXRlQ29uZmlybWF0aW9uLmNsb3NlKCk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coZXJyKVxuICAgICAgfSlcbiAgICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgICAgcG9wdXBEZWxldGVDb25maXJtYXRpb24uc2V0QnV0dG9uVGV4dChmYWxzZSk7XG4gICAgICB9KVxuICB9KTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlTGlrZUNsaWNrKGNhcmQsIGRhdGEpIHtcbiAgY29uc3QgZmlyc3RBY3Rpb24gPSBjYXJkLmlzTGlrZWQoZGF0YSkgPyBhcGkuaGFuZGxlRGlzbGlrZShkYXRhLl9pZCkgOiBhcGkuaGFuZGxlTGlrZShkYXRhLl9pZCk7XG4gIGZpcnN0QWN0aW9uXG4gICAgLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgIGNhcmQuc2V0TGlrZShkYXRhKTtcbiAgICB9KVxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVOZXdFbGVtZW50IChkYXRhKSB7XG4gIGNvbnN0IGNhcmQgPSBuZXcgQ2FyZCAoe1xuICAgIGRhdGE6IGRhdGEsXG4gICAgY2FyZFNlbGVjdG9yOiB0ZW1wbGF0ZUVsZW1lbnQsXG4gICAgaGFuZGxlQ2FyZENsaWNrOiBoYW5kbGVDYXJkQ2xpY2ssXG4gICAgdXNlcklkOiB1c2VyUHJvZmlsZS5nZXRVc2VySW5mbygpLnVzZXJJZCxcbiAgICBoYW5kbGVMaWtlQ2xpY2s6ICgpID0+IGhhbmRsZUxpa2VDbGljayhjYXJkLCBkYXRhKSxcbiAgICBoYW5kbGVEZWxldGVCdXR0b246ICgpID0+IGhhbmRsZURlbGV0ZUJ1dHRvbihjYXJkKSxcbiAgfSlcbiAgcmV0dXJuIGNhcmQuZ2VuZXJhdGVDYXJkKCk7XG59XG5cbmNvbnN0IGNhcmRMaXN0ID0gbmV3IFNlY3Rpb24gKHtcbiAgcmVuZGVyOiAoaXRlbSkgPT4ge1xuICAgIGNhcmRMaXN0LmFkZEl0ZW0oY3JlYXRlTmV3RWxlbWVudChpdGVtKSlcbiAgfSxcbiAgY29udGFpbmVyU2VsZWN0b3I6IGxpc3RFbGVtZW50c1xufSlcblxuLy9QT1BVUCBBREQgRUxFTUVOVFxuY29uc3QgcG9wdXBBZGRFbGVtZW50ID0gbmV3IFBvcHVwV2l0aEZvcm0oYWRkRm9ybSwgaGFuZGxlRm9ybUFkZEVsZW1lbnQpO1xucG9wdXBBZGRFbGVtZW50LnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbmZ1bmN0aW9uIGhhbmRsZUJ1dHRvbkFkZEVsZW1lbnQoKSB7XG4gIHZhbGlkYXRpb25BZGRFbGVtZW50Rm9ybS50b2dnbGVCdXR0b25TdGF0ZSgpO1xuICB2YWxpZGF0aW9uQWRkRWxlbWVudEZvcm0uaGlkZUVycm9yKCk7XG4gIHBvcHVwQWRkRWxlbWVudC5vcGVuKCk7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZUZvcm1BZGRFbGVtZW50KGRhdGEpIHtcbiAgcG9wdXBBZGRFbGVtZW50LnNldEJ1dHRvblRleHQodHJ1ZSk7XG4gIGFwaS5oYW5kbGVDYXJkKGRhdGEpXG4gICAgLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgIGNhcmRMaXN0LmFkZEl0ZW0oY3JlYXRlTmV3RWxlbWVudChkYXRhKSwgZmFsc2UpOztcbiAgICAgIHBvcHVwQWRkRWxlbWVudC5jbG9zZSgpO1xuICAgIH0pXG4gICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKGVycilcbiAgICB9KVxuICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgIHBvcHVwQWRkRWxlbWVudC5zZXRCdXR0b25UZXh0KGZhbHNlKTtcbiAgICB9KVxufVxuXG4vL1BPUFVQIEVESVQgUFJPRklMRVxuY29uc3QgcG9wdXBFZGl0UHJvZmlsZSA9IG5ldyBQb3B1cFdpdGhGb3JtKGVkaXRGb3JtLCBoYW5kbGVGb3JtUHJvZmlsZSlcbnBvcHVwRWRpdFByb2ZpbGUuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuZnVuY3Rpb24gaGFuZGxlQnV0dG9uRWRpdCgpIHtcbiAgcG9wdXBFZGl0UHJvZmlsZS5vcGVuKCk7XG4gIGNvbnN0IHByb2ZpbGUgPSB1c2VyUHJvZmlsZS5nZXRVc2VySW5mbygpXG4gIGlucHV0TmFtZS52YWx1ZSA9IHByb2ZpbGUubmFtZTtcbiAgaW5wdXRPY2N1cGF0aW9uLnZhbHVlID0gcHJvZmlsZS5hYm91dDtcbiAgdmFsaWRhdGlvbkVkaXRGb3JtLnRvZ2dsZUJ1dHRvblN0YXRlKCk7XG4gIHZhbGlkYXRpb25FZGl0Rm9ybS5oaWRlRXJyb3IoKTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlRm9ybVByb2ZpbGUodXNlckRhdGEpIHtcbiAgcG9wdXBFZGl0UHJvZmlsZS5zZXRCdXR0b25UZXh0KHRydWUpO1xuICBhcGkuaGFuZGxlVXNlckluZm8odXNlckRhdGEpXG4gICAgLnRoZW4oKHVzZXJEYXRhKSA9PiB7XG4gICAgICB1c2VyUHJvZmlsZS5zZXRVc2VySW5mbyh1c2VyRGF0YSk7XG4gICAgICBwb3B1cEVkaXRQcm9maWxlLmNsb3NlKCk7XG4gICAgfSlcbiAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgY29uc29sZS5sb2coZXJyKVxuICAgIH0pXG4gICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgcG9wdXBFZGl0UHJvZmlsZS5zZXRCdXR0b25UZXh0KGZhbHNlKTtcbiAgICB9KVxufVxuXG4vL1BPUFVQIEVESVQgQVZBVEFSXG5jb25zdCBwb3B1cEVkaXRBdmF0YXIgPSBuZXcgUG9wdXBXaXRoRm9ybShhdmF0YXJGb3JtLCBoYW5kbGVGb3JtQXZhdGFyKVxucG9wdXBFZGl0QXZhdGFyLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbmZ1bmN0aW9uIGhhbmRsZUF2YXRhcigpIHtcbiAgdmFsaWRhdGlvbkVkaXRBdmF0YXJGb3JtLnRvZ2dsZUJ1dHRvblN0YXRlKCk7XG4gIHZhbGlkYXRpb25FZGl0QXZhdGFyRm9ybS5oaWRlRXJyb3IoKTtcbiAgcG9wdXBFZGl0QXZhdGFyLm9wZW4oKTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlRm9ybUF2YXRhcihkYXRhKSB7XG4gIHBvcHVwRWRpdEF2YXRhci5zZXRCdXR0b25UZXh0KHRydWUpO1xuICBhcGkuaGFuZGxlQXZhdGFyKGRhdGEpXG4gICAgLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgIHVzZXJQcm9maWxlLnNldFVzZXJJbmZvKGRhdGEpO1xuICAgICAgcG9wdXBFZGl0QXZhdGFyLmNsb3NlKCk7XG4gICAgfSlcbiAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgY29uc29sZS5sb2coZXJyKVxuICAgIH0pXG4gICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgcG9wdXBFZGl0QXZhdGFyLnNldEJ1dHRvblRleHQoZmFsc2UpO1xuICAgIH0pXG59XG5cbi8vUE9QVVAgREVMRVRFIENPTkZJUk1BVElPTlxuY29uc3QgcG9wdXBEZWxldGVDb25maXJtYXRpb24gPSBuZXcgUG9wdXBXaXRoU3VibWl0KHBvcHVwRGVsZXRlKTtcbnBvcHVwRGVsZXRlQ29uZmlybWF0aW9uLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbi8vQVBJXG5jb25zdCBhcGkgPSBuZXcgQXBpKHtcbiAgYmFzZVVybDogdXJsLFxuICBoZWFkZXJzOiB7XG4gICAgYXV0aG9yaXphdGlvbjogdG9rZW4sXG4gICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xuICB9XG59KTtcblxuLy9VU0VSIElORk9cbmNvbnN0IHVzZXJQcm9maWxlID0gbmV3IFVzZXJJbmZvKHVzZXJJZm9ybWF0aW9uKTtcblxuLy9QT1BVUCBJTUFHRVxuY29uc3QgcG9wdXBUeXBlSW1hZ2UgPSBuZXcgUG9wdXBXaXRoSW1hZ2UocG9wdXBJbWFnZSk7XG5wb3B1cFR5cGVJbWFnZS5zZXRFdmVudExpc3RlbmVycygpO1xuXG4vL1ZBTElEQVRJT05TXG5jb25zdCB2YWxpZGF0aW9uRWRpdEF2YXRhckZvcm0gPSBuZXcgRm9ybVZhbGlkYXRvcihhcnJheVZhbGlkYXRpb24sIGZvcm1BdmF0YXIpO1xudmFsaWRhdGlvbkVkaXRBdmF0YXJGb3JtLmVuYWJsZVZhbGlkYXRpb24oKTtcblxuY29uc3QgdmFsaWRhdGlvbkVkaXRGb3JtID0gbmV3IEZvcm1WYWxpZGF0b3IoYXJyYXlWYWxpZGF0aW9uLCBmb3JtRWRpdCk7XG52YWxpZGF0aW9uRWRpdEZvcm0uZW5hYmxlVmFsaWRhdGlvbigpO1xuXG5jb25zdCB2YWxpZGF0aW9uQWRkRWxlbWVudEZvcm0gPSBuZXcgRm9ybVZhbGlkYXRvcihhcnJheVZhbGlkYXRpb24sIGZvcm1FbGVtZW50KTtcbnZhbGlkYXRpb25BZGRFbGVtZW50Rm9ybS5lbmFibGVWYWxpZGF0aW9uKCk7XG5cbi8vKlBhZ2UgcmVuZGVyXG5Qcm9taXNlLmFsbChbYXBpLmdldENhcmRzKCksIGFwaS5nZXRVc2VySW5mbygpXSlcbiAgLnRoZW4oKFtpbml0aWFsRWxlbWVudHMsIHVzZXJEYXRhXSkgPT4ge1xuICAgIHVzZXJQcm9maWxlLnNldFVzZXJJbmZvKHVzZXJEYXRhKTtcbiAgICBjYXJkTGlzdC5yZW5kZXJJdGVtcyhpbml0aWFsRWxlbWVudHMpO1xuICB9KVxuICAuY2F0Y2goKGVycikgPT4ge1xuICAgIGNvbnNvbGUubG9nKGVycilcbiAgfSk7XG5cbi8vKiBFdmVudHM6XG5hdmF0YXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVBdmF0YXIpO1xuYnV0dG9uQWRkUGxhY2UuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVCdXR0b25BZGRFbGVtZW50KTtcbmJ1dHRvbkVkaXRQcm9maWxlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFuZGxlQnV0dG9uRWRpdCk7Il0sInNvdXJjZVJvb3QiOiIifQ==